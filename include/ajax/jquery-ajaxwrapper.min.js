(function(e){var t={init:function(t){if(this.is("form")){return e(this).ajaxwrapper("form")}else{return e(this).ajaxwrapper("link")}},link:function(){var t=e(this),n=e(this).attr("target"),r=e(this).attr("href");if(e(this).data("href")!=""&&e(this).data("href")!=undefined){r=e(this).data("href")}var i=e.ajax({url:r,dataType:"html",success:function(t){e(n).html(t)},fail:function(t,r){e(n).html(r)}});return false},form:function(){if(e(this).has('input[type="file"]').length){form=e(this),container=e(this).attr("target"),timetamp=(new Date).getTime();e(this).after("<iframe style='display:none' name='"+timetamp+"'></iframe>");e(this).attr("target",timetamp);e("iframe[name="+timetamp+"]").load(function(){form.attr("target",container);e(container).html(e("iframe[name="+timetamp+"]").contents().find("body").html());e("iframe[name="+timetamp+"]").remove()});return true}else{button=e(this).find("[clicked=true]:input");container=e(this).attr("target"),action=e(this).attr("action"),method=e(this).attr("method"),values=e(this).serialize();values=values.concat("&"+button.attr("name")+"="+button.val());button.removeAttr("clicked");var t=e.ajax({url:action,data:values,type:method,dataType:"html",success:function(t){e(container).html(t)},fail:function(t,n){console.error("Request failed: "+n);e(container).html(n)}});return false}}};e.fn.ajaxwrapper=function(n){if(t[n]){return t[n].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof n==="object"||!n){return t.init.apply(this,arguments)}else{e.error("Method "+n+" does not exist on jQuery.ajaxwrapper")}}})(jQuery);$(document).ready(function(){$("body").on("click","input[type=submit], button[type=submit]",function(){$(this).attr("clicked","true")});$("input[type=submit], button[type=submit]").each(function(){if($(this).attr("onclick")=="return false"||$(this).attr("onclick")=="return false;"){$(this).removeAttr("onclick")}})})